# Load Testing Environment Configuration
# Copy this file to .env.load-test and fill in your values
#
# DO NOT commit .env.load-test to git (already in .gitignore)

###############################################################################
# Application URLs
###############################################################################

# Base URL of your application (local dev or staging)
BASE_URL=http://localhost:3000

# Supabase configuration
SUPABASE_URL=https://tokjmeqjvexnmtampyjm.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here

###############################################################################
# Test User Credentials
###############################################################################

# Test user for authentication (create a dedicated test user)
TEST_USER_EMAIL=loadtest@example.com
TEST_USER_PASSWORD=securepassword123

###############################################################################
# Test Data IDs
###############################################################################

# Organization slug for testing (e.g., "acme-construction")
TEST_ORG_SLUG=your-test-org-slug

# Organization UUID from database
TEST_ORG_ID=00000000-0000-0000-0000-000000000000

# Project UUID for testing individual modules
TEST_PROJECT_ID=00000000-0000-0000-0000-000000000000

###############################################################################
# Load Test Configuration
###############################################################################

# k6 Configuration
K6_VUS=100              # Virtual users (concurrent)
K6_DURATION=14m         # Test duration

# Artillery Configuration
ARTILLERY_DURATION=8m   # Test duration
ARTILLERY_RATE=20       # Requests per second (sustained)

# Playwright Configuration
PLAYWRIGHT_WORKERS=20   # Concurrent browser instances
PLAYWRIGHT_TIMEOUT=30000 # Test timeout in ms

###############################################################################
# Performance Thresholds (from optimizations)
###############################################################################

# Dashboard should load in <1s (was 8-12s)
THRESHOLD_DASHBOARD_LOAD=1000

# Batch health query should complete in <500ms
THRESHOLD_BATCH_HEALTH=500

# Individual page loads
THRESHOLD_RFI_LIST=500
THRESHOLD_SUBMITTAL_DETAIL=300
THRESHOLD_CHANGE_ORDER=300

# Error rate threshold (percentage)
THRESHOLD_ERROR_RATE=5

###############################################################################
# Optional: Performance Monitoring Integration
###############################################################################

# New Relic (if using)
# NEW_RELIC_LICENSE_KEY=your_license_key
# NEW_RELIC_APP_NAME=construction-work-os-load-test

# Datadog (if using)
# DD_API_KEY=your_datadog_api_key
# DD_APP_KEY=your_datadog_app_key

###############################################################################
# Notes
###############################################################################

# 1. Create a dedicated test user in your database
# 2. Create test organization with sample data:
#    - 100+ projects
#    - 50+ RFIs
#    - 50+ Submittals
#    - 50+ Change Orders
# 3. DO NOT run load tests against production database
# 4. Use staging environment or local dev with production-like data
# 5. Ensure your database has the 3 performance migrations applied:
#    - 20251110000001_phase1_performance_indexes.sql
#    - 20251110000002_create_batch_project_health_function.sql
#    - 20251110000003_optimize_materialized_view_refresh.sql
